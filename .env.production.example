# ============================================
# Re:UseNet Production Environment Configuration
# ============================================
# Copy this file to .env.production and configure with your production values
# NEVER commit .env.production to version control!

# ============================================
# Application Configuration
# ============================================
NODE_ENV=production
PORT=3000

# ============================================
# Database Configuration
# ============================================
DATABASE_TYPE=postgresql
DATABASE_URL=postgresql://username:password@production-db-host:5432/reusenet
DATABASE_HOST=production-db-host
DATABASE_PORT=5432
DATABASE_NAME=reusenet
DATABASE_USERNAME=reusenet_user
DATABASE_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# ============================================
# Storage Configuration
# ============================================
# Use AWS S3 or GCS for production (not local)
STORAGE_PROVIDER=aws-s3

# AWS S3 Configuration
AWS_REGION=us-east-1
AWS_S3_BUCKET=reusenet-production-files
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_KEY

# ============================================
# Authentication Configuration
# ============================================
AUTH_PROVIDER=custom
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_GENERATE_STRONG_RANDOM_SECRET
JWT_EXPIRES_IN=24h
REFRESH_TOKEN_EXPIRES_IN=7d

# ============================================
# AI Configuration (REQUIRED)
# ============================================
AI_PROVIDER=openai
OPENAI_API_KEY=YOUR_OPENAI_API_KEY
OPENAI_MODEL=gpt-4-vision-preview
OPENAI_MAX_TOKENS=1000

# ============================================
# Maps Configuration (REQUIRED)
# ============================================
MAPS_PROVIDER=google
GOOGLE_MAPS_API_KEY=YOUR_GOOGLE_MAPS_API_KEY

# ============================================
# Notification Configuration (REQUIRED)
# ============================================
NOTIFICATION_PROVIDER=sendgrid
SENDGRID_API_KEY=YOUR_SENDGRID_API_KEY
SENDGRID_FROM_EMAIL=noreply@yourdomain.com

# ============================================
# CORS Configuration
# ============================================
# Specify exact production domains
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com
CORS_CREDENTIALS=true

# ============================================
# Rate Limiting Configuration
# ============================================
# Adjust based on expected traffic
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=production-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD

# ============================================
# Production Deployment Checklist
# ============================================
# [ ] Changed JWT_SECRET to strong random value
# [ ] Set strong database passwords
# [ ] Configured production database host
# [ ] Set up AWS S3 bucket with proper permissions
# [ ] Configured all required API keys
# [ ] Set CORS_ORIGIN to production domains only
# [ ] Configured HTTPS/TLS (reverse proxy)
# [ ] Set up database backups
# [ ] Configured monitoring and alerting
# [ ] Reviewed rate limiting settings
# [ ] Set up log aggregation
# [ ] Configured firewall rules
# [ ] Enabled database encryption at rest
# [ ] Set up disaster recovery plan
# [ ] Reviewed security best practices
